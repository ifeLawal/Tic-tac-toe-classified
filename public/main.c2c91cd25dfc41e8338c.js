(()=>{var t={9926:(t,e,r)=>{"use strict";var n=r(3958),o=r.n(n),c=(r(6124),r(7187)),i=r.n(c);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(i,t);var e,r,n,o,c=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(n);if(o){var r=f(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return l(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=c.call(this)).marker=t,e.cell=e.createCell(),e.events(),e}return e=i,(r=[{key:"events",value:function(){var t=this;this.cell.addEventListener("click",(function(){console.log(t.marker),t.cell.classList.contains("tictactoe-board__cell--circle")||t.cell.classList.contains("tictactoe-board__cell--x")?console.log("invalid move"):("o"==t.marker?t.cell.classList.add("tictactoe-board__cell--circle"):t.cell.classList.add("tictactoe-board__cell--x"),t.emit("boardClicked"))}))}},{key:"createCell",value:function(){var t=document.createElement("div");return t.classList.add("tictactoe-board__cell"),t.setAttribute("data-cell",""),t}},{key:"getCell",value:function(){return this.cell}},{key:"setMarker",value:function(t){this.marker=t}}])&&u(e.prototype,r),i}(i());function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(i,t);var e,r,n,o,c=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(n);if(o){var r=m(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return v(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=c.call(this)).cells=[],e.currentPlayer=t,e.winner,e.boardArray=[["","",""],["","",""],["","",""]],e.matches={x:[],o:[]},e.clusterBoard=e.createBoard(),e.setBoardPlayer(t),e.setupBoardInteraction(),e}return e=i,(r=[{key:"createBoard",value:function(){var t=document.createElement("div");t.classList.add("tictactoe-board__cluster"),t.setAttribute("data-cluster","");for(var e=0;e<9;e++){var r=new h(this.currentPlayer);t.appendChild(r.getCell()),this.cells.push(r)}return t}},{key:"setupBoardInteraction",value:function(){var t=this;this.cells.map((function(e,r){e.on("boardClicked",(function(){t.fillBoard(r);var e=t.checkHorizontalMatches(),n=t.checkVerticalMatches(),o=t.checkDiagonalMatches();t.colorMatch(),e||n||o?(console.log("emitting the winner ".concat(t.winner)),t.emit("gameFinished")):(t.emit("clusterboardClicked"),t.cells.forEach((function(e){"x"==t.currentPlayer?e.setMarker("x"):e.setMarker("o")})))}))}))}},{key:"setBoardPlayer",value:function(t){"x"==t?(this.clusterBoard.classList.remove("tictactoe-board__cluster--circle-is-visible"),this.clusterBoard.classList.add("tictactoe-board__cluster--x-is-visible")):(this.clusterBoard.classList.add("tictactoe-board__cluster--circle-is-visible"),this.clusterBoard.classList.remove("tictactoe-board__cluster--x-is-visible"))}},{key:"setCurrentPlayer",value:function(t){this.currentPlayer=t}},{key:"getClusterBoard",value:function(){return this.clusterBoard}},{key:"colorMatch",value:function(){var t=this.matches;for(var e in t)for(var r=t[e],n=0;n<r.length;n++)for(var o=0;o<r[n].length;o++)if("x"==e){var c=r[n][o];this.cells[c].getCell().classList.add("tictactoe-board__cell--red")}else{var i=r[n][o];this.cells[i].getCell().classList.add("tictactoe-board__cell--blue")}}},{key:"checkDiagonalMatches",value:function(){for(var t=!0,e=!0,r=this.boardArray[0][0],n=this.boardArray[0][2],o=[0],c=[2],i=1;i<this.boardArray.length;i++){var a=this.boardArray.length-1;if(""==r||r!=this.boardArray[i][i])t=!1,o=[];else{var u=this.convertBoardLocationToIndex(i,i);o.push(u)}if(""==n||n!=this.boardArray[i][a-i])e=!1,c=[];else{var s=this.convertBoardLocationToIndex(i,a-i);c.push(s)}}return 3==c.length&&(this.winner=n,this.matches[n].push(c)),3==o.length&&(this.winner=r,this.matches[r].push(o)),t||e}},{key:"checkVerticalMatches",value:function(){for(var t,e=[],r=0;r<this.boardArray[0].length;r++){var n=this.boardArray[0][r];t=!0,e.push(this.convertBoardLocationToIndex(0,r));for(var o=1;o<this.boardArray.length;o++){if(""==n||n!=this.boardArray[o][r]){t=!1,e=[];break}e.push(this.convertBoardLocationToIndex(o,r))}if(1==t)return this.winner=n,this.matches[n].push(e),t}return t}},{key:"checkHorizontalMatches",value:function(){for(var t,e=[],r=0;r<this.boardArray.length;r++){var n=this.boardArray[r][0];t=!0,e.push(this.convertBoardLocationToIndex(r,0));for(var o=1;o<this.boardArray[0].length;o++){if(""==n||n!=this.boardArray[r][o]){t=!1,e=[];break}e.push(this.convertBoardLocationToIndex(r,o))}if(1==t)return this.winner=n,this.matches[n].push(e),t}return t}},{key:"convertIndexToBoardLocation",value:function(t){return[Math.floor(t/3),t%3]}},{key:"convertBoardLocationToIndex",value:function(t,e){return t%3*3+e%3}},{key:"fillBoard",value:function(t){var e,r,n=(e=this.convertIndexToBoardLocation(t),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,c=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,c=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw c}}return r}}(e,r)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],c=n[1];this.boardArray[o][c]=this.currentPlayer}},{key:"getWinner",value:function(){return this.winner}}])&&p(e.prototype,r),i}(i());function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(i,t);var e,r,n,o,c=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=O(n);if(o){var r=O(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return T(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=c.call(this)).board=document.querySelector(".tictactoe-board"),t.boardArray=[],t.currentPlayer="x",t.clusterBoard=new g(t.currentPlayer),t.injectHTML(),t.runGame(),t}return e=i,(r=[{key:"injectHTML",value:function(){this.board.appendChild(this.clusterBoard.getClusterBoard())}},{key:"swapTurns",value:function(){"x"==this.currentPlayer?this.currentPlayer="o":this.currentPlayer="x"}},{key:"runGame",value:function(){var t=this;this.clusterBoard.on("clusterboardClicked",(function(){t.swapTurns(),t.clusterBoard.setCurrentPlayer(t.currentPlayer),t.clusterBoard.setBoardPlayer(t.currentPlayer)})),this.clusterBoard.on("gameFinished",(function(){console.log("emitted"),t.emit("boardGameFinished"),console.log("post emission")}))}},{key:"destroyBoard",value:function(){for(;this.board.firstChild;)this.board.removeChild(this.board.lastChild)}},{key:"getWinner",value:function(){return this.clusterBoard.getWinner()}}])&&_(e.prototype,r),i}(i());function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e,r,n,o,c,i){try{var a=t[c](i),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,o)}function j(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t,e){return!e||"object"!==x(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(u,t);var e,r,n,o,c,i,a=(c=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=A(c);if(i){var r=A(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return L(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this)).modal=document.querySelector(".modal"),t.start=document.querySelector("#start"),t.winningMessage=document.querySelector(".modal__winner-text"),t.interface="",t.currentTicTacToeGame,t.events(),t}return e=u,(r=[{key:"injectHTML",value:function(){}},{key:"events",value:function(){var t=this;this.currentTicTacToeGame=new P,this.modal.classList.add("modal--is-visible"),this.start.addEventListener("click",(function(e){return t.startGame(e)}))}},{key:"startGame",value:function(t){t.preventDefault(),this.modal.classList.remove("modal--is-visible"),this.currentTicTacToeGame.destroyBoard(),this.currentTicTacToeGame=new P,this.checkGameState()}},{key:"restartGame",value:(n=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sleep(300);case 2:this.start.innerHTML="Play Again",this.winningMessage.classList.add("modal__winner-text--is-visible"),this.winningMessage.innerHTML="The winner is ".concat(this.currentTicTacToeGame.getWinner()),this.currentTicTacToeGame.destroyBoard(),this.events();case 7:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var c=n.apply(t,e);function i(t){S(c,r,o,i,a,"next",t)}function a(t){S(c,r,o,i,a,"throw",t)}i(void 0)}))},function(){return o.apply(this,arguments)})},{key:"checkGameState",value:function(){var t=this;this.currentTicTacToeGame.on("boardGameFinished",(function(){t.restartGame()}))}},{key:"sleep",value:function(t){return new Promise((function(e){return setTimeout(e,t)}))}}])&&j(e.prototype,r),u}(i());"/"==(new(o())).currentLocation()?(console.log("Are we here?"),new C):(console.log("Or are we here?"),document.querySelector(".game-space").innerHTML="<h1>Error page</h1>")},3958:()=>{window.location.pathname}},e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,r),o.exports}r.m=t,r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={179:0},e=[[9926,286]],n=()=>{};function o(){for(var n,o=0;o<e.length;o++){for(var c=e[o],i=!0,a=1;a<c.length;a++){var u=c[a];0!==t[u]&&(i=!1)}i&&(e.splice(o--,1),n=r(r.s=c[0]))}return 0===e.length&&(r.x(),r.x=()=>{}),n}r.x=()=>{r.x=()=>{},i=i.slice();for(var t=0;t<i.length;t++)c(i[t]);return(n=o)()};var c=o=>{for(var c,i,[u,s,l,f]=o,h=0,y=[];h<u.length;h++)i=u[h],r.o(t,i)&&t[i]&&y.push(t[i][0]),t[i]=0;for(c in s)r.o(s,c)&&(r.m[c]=s[c]);for(l&&l(r),a(o);y.length;)y.shift()();return f&&e.push.apply(e,f),n()},i=self.webpackChunktravel_site=self.webpackChunktravel_site||[],a=i.push.bind(i);i.push=c})(),r.x()})();