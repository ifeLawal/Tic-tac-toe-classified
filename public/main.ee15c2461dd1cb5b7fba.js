(()=>{"use strict";var t={9869:(t,e,r)=>{function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=window.location.pathname;const i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,(r=[{key:"currentLocation",value:function(){return o}}])&&n(e.prototype,r),t}();var a=r(7187),c=r.n(a);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r(6124),io();const y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(n);if(o){var r=h(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return f(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).marker=t,e.cell=e.createCell(),e.events(),e}return e=a,(r=[{key:"events",value:function(){var t=this;this.cell.addEventListener("click",(function(){console.log(t.marker),t.fillCell(),t.emit("boardClicked")}))}},{key:"fillCell",value:function(){this.cell.classList.contains("tictactoe-board__cell--circle")||this.cell.classList.contains("tictactoe-board__cell--x")?console.log("invalid move"):"o"==this.marker?this.cell.classList.add("tictactoe-board__cell--circle"):this.cell.classList.add("tictactoe-board__cell--x")}},{key:"createCell",value:function(){var t=document.createElement("div");return t.classList.add("tictactoe-board__cell"),t.setAttribute("data-cell",""),t}},{key:"getCell",value:function(){return this.cell}},{key:"setMarker",value:function(t){this.marker=t}}])&&u(e.prototype,r),a}(c());function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}io();const g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=w(n);if(o){var r=w(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return m(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).cells=[],e.currentPlayer=t,e.winner,e.boardArray=[["","",""],["","",""],["","",""]],e.matches={x:[],o:[]},e.clusterBoard=e.createBoard(),e.setBoardPlayer(t),e.setupBoardInteraction(),e}return e=a,(r=[{key:"createBoard",value:function(){var t=document.createElement("div");t.classList.add("tictactoe-board__cluster"),t.setAttribute("data-cluster","");for(var e=0;e<9;e++){var r=new y(this.currentPlayer);t.appendChild(r.getCell()),this.cells.push(r)}return t}},{key:"setupBoardInteraction",value:function(){var t=this;this.cells.map((function(e,r){e.on("boardClicked",(function(){window.socket.emit("boardClicked",{index:r}),t.fillBoard(r);var e=t.checkHorizontalMatches(),n=t.checkVerticalMatches(),o=t.checkDiagonalMatches();t.colorMatch(),e||n||o?(console.log("emitting the winner ".concat(t.winner)),t.emit("gameFinished")):(t.emit("clusterboardClicked"),t.cells.forEach((function(e){"x"==t.currentPlayer?e.setMarker("x"):e.setMarker("o")})))}))})),window.socket.on("boardClicked",(function(e){console.log(t.cells[e.index].fillCell())}))}},{key:"setBoardPlayer",value:function(t){"x"==t?(this.clusterBoard.classList.remove("tictactoe-board__cluster--circle-is-visible"),this.clusterBoard.classList.add("tictactoe-board__cluster--x-is-visible")):(this.clusterBoard.classList.add("tictactoe-board__cluster--circle-is-visible"),this.clusterBoard.classList.remove("tictactoe-board__cluster--x-is-visible"))}},{key:"setCurrentPlayer",value:function(t){this.currentPlayer=t}},{key:"getClusterBoard",value:function(){return this.clusterBoard}},{key:"colorMatch",value:function(){var t=this.matches;for(var e in t)for(var r=t[e],n=0;n<r.length;n++)for(var o=0;o<r[n].length;o++)if("x"==e){var i=r[n][o];this.cells[i].getCell().classList.add("tictactoe-board__cell--red")}else{var a=r[n][o];this.cells[a].getCell().classList.add("tictactoe-board__cell--blue")}}},{key:"checkDiagonalMatches",value:function(){for(var t=!0,e=!0,r=this.boardArray[0][0],n=this.boardArray[0][2],o=[0],i=[2],a=1;a<this.boardArray.length;a++){var c=this.boardArray.length-1;if(""==r||r!=this.boardArray[a][a])t=!1,o=[];else{var l=this.convertBoardLocationToIndex(a,a);o.push(l)}if(""==n||n!=this.boardArray[a][c-a])e=!1,i=[];else{var u=this.convertBoardLocationToIndex(a,c-a);i.push(u)}}return 3==i.length&&(this.winner=n,this.matches[n].push(i)),3==o.length&&(this.winner=r,this.matches[r].push(o)),t||e}},{key:"checkVerticalMatches",value:function(){for(var t,e=[],r=0;r<this.boardArray[0].length;r++){var n=this.boardArray[0][r];t=!0,e.push(this.convertBoardLocationToIndex(0,r));for(var o=1;o<this.boardArray.length;o++){if(""==n||n!=this.boardArray[o][r]){t=!1,e=[];break}e.push(this.convertBoardLocationToIndex(o,r))}if(1==t)return this.winner=n,this.matches[n].push(e),t}return t}},{key:"checkHorizontalMatches",value:function(){for(var t,e=[],r=0;r<this.boardArray.length;r++){var n=this.boardArray[r][0];t=!0,e.push(this.convertBoardLocationToIndex(r,0));for(var o=1;o<this.boardArray[0].length;o++){if(""==n||n!=this.boardArray[r][o]){t=!1,e=[];break}e.push(this.convertBoardLocationToIndex(r,o))}if(1==t)return this.winner=n,this.matches[n].push(e),t}return t}},{key:"convertIndexToBoardLocation",value:function(t){return[Math.floor(t/3),t%3]}},{key:"convertBoardLocationToIndex",value:function(t,e){return t%3*3+e%3}},{key:"fillBoard",value:function(t){var e,r,n=(e=this.convertIndexToBoardLocation(t),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(e,r)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];this.boardArray[o][i]=this.currentPlayer}},{key:"getWinner",value:function(){return this.winner}}])&&b(e.prototype,r),a}(c());function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=O(n);if(o){var r=O(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return T(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).board=document.querySelector(".tictactoe-board"),t.boardArray=[],t.currentPlayer="x",t.clusterBoard=new g(t.currentPlayer),t.injectHTML(),t.runGame(),t}return e=a,(r=[{key:"injectHTML",value:function(){this.board.appendChild(this.clusterBoard.getClusterBoard())}},{key:"swapTurns",value:function(){"x"==this.currentPlayer?this.currentPlayer="o":this.currentPlayer="x"}},{key:"runGame",value:function(){var t=this;this.clusterBoard.on("clusterboardClicked",(function(){t.swapTurns(),t.clusterBoard.setCurrentPlayer(t.currentPlayer),t.clusterBoard.setBoardPlayer(t.currentPlayer)})),this.clusterBoard.on("gameFinished",(function(){t.emit("boardGameFinished")}))}},{key:"destroyBoard",value:function(){for(;this.board.firstChild;)this.board.removeChild(this.board.lastChild)}},{key:"getWinner",value:function(){return this.clusterBoard.getWinner()}}])&&_(e.prototype,r),a}(c());function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t,e){return!e||"object"!==j(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=C(n);if(o){var r=C(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return B(this,t)});function a(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this)).mark=t,r.currentPlayer=e,r.cell=r.createCell(),r.events(),r}return e=a,(r=[{key:"events",value:function(){var t=this;this.cell.addEventListener("click",(function(){console.log(t.mark),window.socket.id===t.currentPlayer?(console.log("what's happening!?"),t.fillCell(),t.emit("boardClicked")):console.log("not your turn")}))}},{key:"fillCell",value:function(){this.cell.classList.contains("tictactoe-board__cell--circle")||this.cell.classList.contains("tictactoe-board__cell--x")?console.log("invalid move"):"o"==this.mark?this.cell.classList.add("tictactoe-board__cell--circle"):this.cell.classList.add("tictactoe-board__cell--x")}},{key:"createCell",value:function(){var t=document.createElement("div");return t.classList.add("tictactoe-board__cell"),t.setAttribute("data-cell",""),t}},{key:"getCell",value:function(){return this.cell}},{key:"getMark",value:function(){return this.mark}},{key:"setCurrentPlayer",value:function(t,e){this.mark=t,this.currentPlayer=e,console.log(this.mark),console.log(this.currentPlayer)}}])&&L(e.prototype,r),a}(c());function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return E(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function I(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function D(t,e){return!e||"object"!==R(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=H(n);if(o){var r=H(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return D(this,t)});function a(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this)).cells=[],r.mark=t,r.currentPlayer=e,r.winner,r.boardArray=[["","",""],["","",""],["","",""]],r.matches={x:[],o:[]},r.clusterBoard=r.createBoard(),r.setBoardPlayer(r.mark),r.setupBoardInteraction(),r}return e=a,(r=[{key:"createBoard",value:function(){var t=document.createElement("div");t.classList.add("tictactoe-board__cluster"),t.setAttribute("data-cluster","");for(var e=0;e<9;e++){var r=new A(this.mark,this.currentPlayer);t.appendChild(r.getCell()),this.cells.push(r)}return t}},{key:"setupBoardInteraction",value:function(){var t=this;this.cells.map((function(t,e){t.on("boardClicked",(function(){window.socket.emit("boardClicked",{index:e,mark:t.getMark()})}))})),window.socket.on("moveMade",(function(e){console.log(window.socket.id,t.mark);var r=M(t.convertIndexToBoardLocation(e.index),2),n=r[0],o=r[1];t.boardArray[n][o]=e.mark,console.log(t.boardArray),t.cells[e.index].fillCell();var i=t.checkHorizontalMatches(),a=t.checkVerticalMatches(),c=t.checkDiagonalMatches();t.colorMatch(),i||a||c?(console.log("emitting the winner ".concat(t.winner)),t.emit("gameFinished")):t.emit("clusterboardClicked")})),window.socket.on("turnChange",(function(e){console.log({data:e}),t.setBoardPlayer(e.mark),t.cells.forEach((function(t){t.setCurrentPlayer(e.mark,e.socketId)}))}))}},{key:"setBoardPlayer",value:function(t){"x"==t?(this.clusterBoard.classList.remove("tictactoe-board__cluster--circle-is-visible"),this.clusterBoard.classList.add("tictactoe-board__cluster--x-is-visible")):(this.clusterBoard.classList.add("tictactoe-board__cluster--circle-is-visible"),this.clusterBoard.classList.remove("tictactoe-board__cluster--x-is-visible"))}},{key:"getClusterBoard",value:function(){return this.clusterBoard}},{key:"colorMatch",value:function(){var t=this.matches;for(var e in t)for(var r=t[e],n=0;n<r.length;n++)for(var o=0;o<r[n].length;o++)if("x"==e){var i=r[n][o];this.cells[i].getCell().classList.add("tictactoe-board__cell--red")}else{var a=r[n][o];this.cells[a].getCell().classList.add("tictactoe-board__cell--blue")}}},{key:"checkDiagonalMatches",value:function(){for(var t=!0,e=!0,r=this.boardArray[0][0],n=this.boardArray[0][2],o=[0],i=[2],a=1;a<this.boardArray.length;a++){var c=this.boardArray.length-1;if(""==r||r!=this.boardArray[a][a])t=!1,o=[];else{var l=this.convertBoardLocationToIndex(a,a);o.push(l)}if(""==n||n!=this.boardArray[a][c-a])e=!1,i=[];else{var u=this.convertBoardLocationToIndex(a,c-a);i.push(u)}}return 3==i.length&&(this.winner=n,this.matches[n].push(i)),3==o.length&&(this.winner=r,this.matches[r].push(o)),t||e}},{key:"checkVerticalMatches",value:function(){for(var t,e=[],r=0;r<this.boardArray[0].length;r++){var n=this.boardArray[0][r];t=!0,e.push(this.convertBoardLocationToIndex(0,r));for(var o=1;o<this.boardArray.length;o++){if(""==n||n!=this.boardArray[o][r]){t=!1,e=[];break}e.push(this.convertBoardLocationToIndex(o,r))}if(1==t)return this.winner=n,this.matches[n].push(e),t}return t}},{key:"checkHorizontalMatches",value:function(){for(var t,e=[],r=0;r<this.boardArray.length;r++){var n=this.boardArray[r][0];t=!0,e.push(this.convertBoardLocationToIndex(r,0));for(var o=1;o<this.boardArray[0].length;o++){if(""==n||n!=this.boardArray[r][o]){t=!1,e=[];break}e.push(this.convertBoardLocationToIndex(r,o))}if(1==t)return this.winner=n,this.matches[n].push(e),t}return t}},{key:"convertIndexToBoardLocation",value:function(t){return console.log(t),[Math.floor(t/3),t%3]}},{key:"convertBoardLocationToIndex",value:function(t,e){return t%3*3+e%3}},{key:"fillBoard",value:function(t,e,r){var n=M(this.convertIndexToBoardLocation(t),2),o=n[0],i=n[1];r[o][i]=e}},{key:"getWinner",value:function(){return this.winner}}])&&I(e.prototype,r),a}(c());function W(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}c();const F=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.board=document.querySelector(".tictactoe-board"),this.boardArray=[],this.clusterBoard=new z(e,r),this.injectHTML(),this.runGame()}var e,r;return e=t,(r=[{key:"injectHTML",value:function(){this.board.appendChild(this.clusterBoard.getClusterBoard())}},{key:"swapTurns",value:function(){}},{key:"runGame",value:function(){var t=this;this.clusterBoard.on("clusterboardClicked",(function(){t.swapTurns(),t.clusterBoard.setBoardPlayer(t.currentPlayer)})),this.clusterBoard.on("gameFinished",(function(){t.emit("boardGameFinished")}))}},{key:"destroyBoard",value:function(){for(;this.board.firstChild;)this.board.removeChild(this.board.lastChild)}},{key:"getWinner",value:function(){return this.clusterBoard.getWinner()}}])&&W(e.prototype,r),t}();function N(t,e,r,n,o,i,a){try{var c=t[i](a),l=c.value}catch(t){return void r(t)}c.done?e(l):Promise.resolve(l).then(n,o)}function q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const U=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modal=document.querySelector(".modal"),this.start=document.querySelector("#start"),this.winningMessage=document.querySelector(".modal__winner-text"),this.interface="",this.currentTicTacToeGame}var e,r,n,o;return e=t,(r=[{key:"initializeGame",value:function(){var t=this;this.currentTicTacToeGame=new S,this.start.addEventListener("click",(function(e){e.preventDefault(),t.startGame()})),this.modal.classList.add("modal--is-visible")}},{key:"startGame",value:function(){this.modal.classList.remove("modal--is-visible"),this.currentTicTacToeGame.destroyBoard(),this.currentTicTacToeGame=new S,this.checkGameState()}},{key:"restartGame",value:(n=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sleep(300);case 2:this.start.innerHTML="Play Again",this.winningMessage.classList.add("modal__winner-text--is-visible"),this.winningMessage.innerHTML="The winner is ".concat(this.currentTicTacToeGame.getWinner()),this.currentTicTacToeGame.destroyBoard(),this.events();case 7:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){N(i,r,o,a,c,"next",t)}function c(t){N(i,r,o,a,c,"throw",t)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"checkGameState",value:function(){}},{key:"sleep",value:function(t){return new Promise((function(e){return setTimeout(e,t)}))}}])&&q(e.prototype,r),t}();function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function J(t,e){return(J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function K(t,e){return!e||"object"!==V(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Q(n);if(o){var r=Q(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return K(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).initializeGame(),t}return e=a,(r=[{key:"checkGameState",value:function(){var t=this;this.currentTicTacToeGame.on("boardGameFinished",(function(){console.log("restart reached!"),t.restartGame()}))}}])&&$(e.prototype,r),a}(U);function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tt(t,e){return(tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function et(t,e){return!e||"object"!==Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tt(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=rt(n);if(o){var r=rt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return et(this,t)});function a(t){var e,r=t.mark,n=t.socketId;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).mark=r,e.currentPlayer=n,e.initializeGame(),e}return e=a,(r=[{key:"initializeGame",value:function(){var t=this;this.currentTicTacToeGame=new F(this.mark,this.currentPlayer),window.socket.on("gameStarted",(function(){console.log(window.socket," received a message."),t.startGame(),t.start.removeEventListener("click")})),this.start.addEventListener("click",(function(e){e.preventDefault(),window.socket.emit("gameStarted"),console.log(window.socket," delivered a message."),t.startGame()}))}}])&&Z(e.prototype,r),a}(U);function ot(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const it=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.placement=r,this.injectHTML()}var e,r;return e=t,(r=[{key:"injectHTML",value:function(){var t=document.createElement("a");t.innerHTML=this.name,t.classList.add("btn","btn--margin-small");var e=encodeURIComponent(this.name);t.setAttribute("href","/".concat(e)),this.placement.insertAdjacentElement("beforeend",t)}}])&&ot(e.prototype,r),t}();window.socket=io();var at={onlineTwoPlayer:{name:"Online Multiplayer",encodedName:encodeURIComponent("Online Multiplayer")},localTwoPlayer:{name:"Local Multiplayer",encodedName:encodeURIComponent("Local Multiplayer")},singlePlayer:{name:"Single Player",encodedName:encodeURIComponent("Single Player")}},ct=new i,lt=document.createElement("h1"),ut=document.querySelector("#message-area");lt.innerHTML="Choose an opponent","/"==ct.currentLocation()?(ut.insertAdjacentElement("beforeend",lt),new it(at.singlePlayer.name,ut),new it(at.localTwoPlayer.name,ut),new it(at.onlineTwoPlayer.name,ut)):ct.currentLocation()=="/".concat(at.singlePlayer.encodedName)?(lt.innerHTML="We are still putting together a smart tic tac toe bot! In the meantime feel free to play against humans.",ut.insertAdjacentElement("beforeend",lt),new it(at.localTwoPlayer.name,ut),new it(at.onlineTwoPlayer.name,ut)):ct.currentLocation()=="/".concat(at.onlineTwoPlayer.encodedName)?(console.log(window.socket),window.socket.emit("playerJoined"),window.socket.on("roomReady",(function(t){new nt(t)}))):ct.currentLocation()=="/".concat(at.localTwoPlayer.encodedName)?(new X).initializeGame():"/404"==ct.currentLocation()?(lt.innerHTML="Welcome to failure land! 🙃",gameSpace.insertAdjacentElement("afterbegin",lt)):(console.log(ct.currentLocation(),"/".concat(at.localTwoPlayer.encodedName),ct.currentLocation()=="/".concat(at.localTwoPlayer.encodedName)),document.querySelector(".game-space").innerHTML="<h1>Error page</h1>")}},e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,r),o.exports}r.m=t,r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={179:0},e=[[9869,286]],n=()=>{};function o(){for(var n,o=0;o<e.length;o++){for(var i=e[o],a=!0,c=1;c<i.length;c++){var l=i[c];0!==t[l]&&(a=!1)}a&&(e.splice(o--,1),n=r(r.s=i[0]))}return 0===e.length&&(r.x(),r.x=()=>{}),n}r.x=()=>{r.x=()=>{},a=a.slice();for(var t=0;t<a.length;t++)i(a[t]);return(n=o)()};var i=o=>{for(var i,a,[l,u,s,f]=o,h=0,y=[];h<l.length;h++)a=l[h],r.o(t,a)&&t[a]&&y.push(t[a][0]),t[a]=0;for(i in u)r.o(u,i)&&(r.m[i]=u[i]);for(s&&s(r),c(o);y.length;)y.shift()();return f&&e.push.apply(e,f),n()},a=self.webpackChunktic_tac_toe_classified=self.webpackChunktic_tac_toe_classified||[],c=a.push.bind(a);a.push=i})(),r.x()})();